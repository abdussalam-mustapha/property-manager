{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/property.service\";\nexport let PropertyFormComponent = /*#__PURE__*/(() => {\n  class PropertyFormComponent {\n    constructor(fb, propertyService) {\n      this.fb = fb;\n      this.propertyService = propertyService;\n      this.property = null;\n      this.closeDialog = new EventEmitter();\n      this.isEditing = false;\n      this.propertyForm = this.fb.group({\n        name: ['', Validators.required],\n        type: ['Apartment', Validators.required],\n        location: ['', Validators.required],\n        price: [0, [Validators.required, Validators.min(1)]],\n        bedrooms: [1, [Validators.required, Validators.min(0)]],\n        bathrooms: [1, [Validators.required, Validators.min(0)]],\n        area: [0, [Validators.required, Validators.min(1)]],\n        description: ['']\n      });\n    }\n    ngOnInit() {\n      if (this.property) {\n        this.isEditing = true;\n        this.propertyForm.patchValue(this.property);\n      }\n    }\n    onSubmit() {\n      if (this.propertyForm.invalid) {\n        // In a real app, you'd show a toast notification for validation errors.\n        console.error('Form is invalid');\n        return;\n      }\n      if (this.isEditing && this.property) {\n        const updatedProperty = {\n          ...this.property,\n          ...this.propertyForm.value\n        };\n        this.propertyService.updateProperty(updatedProperty);\n      } else {\n        this.propertyService.addProperty(this.propertyForm.value);\n      }\n      this.closeDialog.emit(true);\n    }\n    close(refresh = false) {\n      this.closeDialog.emit(refresh);\n    }\n    static {\n      this.ɵfac = function PropertyFormComponent_Factory(t) {\n        return new (t || PropertyFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PropertyService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PropertyFormComponent,\n        selectors: [[\"app-property-form\"]],\n        inputs: {\n          property: \"property\"\n        },\n        outputs: {\n          closeDialog: \"closeDialog\"\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 58,\n        vars: 4,\n        consts: [[1, \"modal-backdrop\", 3, \"click\"], [1, \"modal-container\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [1, \"btn-close\", 3, \"click\"], [1, \"modal-body\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-grid\"], [1, \"form-group\"], [\"for\", \"name\", 1, \"\"], [\"id\", \"name\", \"formControlName\", \"name\", \"type\", \"text\", 1, \"\"], [\"for\", \"type\", 1, \"\"], [\"id\", \"type\", \"formControlName\", \"type\", 1, \"\"], [\"for\", \"location\", 1, \"\"], [\"id\", \"location\", \"formControlName\", \"location\", \"type\", \"text\", 1, \"\"], [1, \"form-grid-col3\"], [\"for\", \"price\", 1, \"\"], [\"id\", \"price\", \"formControlName\", \"price\", \"type\", \"number\", 1, \"\"], [\"for\", \"bedrooms\", 1, \"\"], [\"id\", \"bedrooms\", \"formControlName\", \"bedrooms\", \"type\", \"number\", 1, \"\"], [\"for\", \"bathrooms\", 1, \"\"], [\"id\", \"bathrooms\", \"formControlName\", \"bathrooms\", \"type\", \"number\", 1, \"\"], [\"for\", \"area\", 1, \"\"], [\"id\", \"area\", \"formControlName\", \"area\", \"type\", \"number\", 1, \"\"], [\"for\", \"description\", 1, \"\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"3\", 1, \"\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"\", 3, \"click\"], [\"type\", \"submit\", 1, \"\", 3, \"disabled\"]],\n        template: function PropertyFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_div_click_0_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_button_click_6_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtext(7, \"\\u00D7\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"form\", 6);\n            i0.ɵɵlistener(\"ngSubmit\", function PropertyFormComponent_Template_form_ngSubmit_8_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"label\", 9);\n            i0.ɵɵtext(12, \"Property Name *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(13, \"input\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"div\", 8)(15, \"label\", 11);\n            i0.ɵɵtext(16, \"Property Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"select\", 12)(18, \"option\");\n            i0.ɵɵtext(19, \"Apartment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"option\");\n            i0.ɵɵtext(21, \"House\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"option\");\n            i0.ɵɵtext(23, \"Condo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"option\");\n            i0.ɵɵtext(25, \"Townhouse\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"option\");\n            i0.ɵɵtext(27, \"Commercial\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(28, \"div\", 8)(29, \"label\", 13);\n            i0.ɵɵtext(30, \"Location *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(31, \"input\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"div\", 15)(33, \"div\", 8)(34, \"label\", 16);\n            i0.ɵɵtext(35, \"Price *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(36, \"input\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"div\", 8)(38, \"label\", 18);\n            i0.ɵɵtext(39, \"Bedrooms\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(40, \"input\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\", 8)(42, \"label\", 20);\n            i0.ɵɵtext(43, \"Bathrooms\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(44, \"input\", 21);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\", 8)(46, \"label\", 22);\n            i0.ɵɵtext(47, \"Area (sqft) *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(48, \"input\", 23);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 8)(50, \"label\", 24);\n            i0.ɵɵtext(51, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(52, \"textarea\", 25);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"div\", 26)(54, \"button\", 27);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_button_click_54_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtext(55, \"Cancel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"button\", 28);\n            i0.ɵɵtext(57);\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.isEditing ? \"Edit Property\" : \"Add New Property\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.propertyForm);\n            i0.ɵɵadvance(48);\n            i0.ɵɵproperty(\"disabled\", ctx.propertyForm.invalid);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate(ctx.isEditing ? \"Update Property\" : \"Create Property\");\n          }\n        },\n        dependencies: [CommonModule, FormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, ReactiveFormsModule, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\"[_nghost-%COMP%]{--modal-width: 600px;--modal-padding: 1.5rem;--input-padding: .75rem;--border-radius: 8px}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1050;padding:1rem}.modal-content[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 5px 15px #0000004d;width:100%;max-width:var(--modal-width);max-height:90vh;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--modal-padding);border-bottom:1px solid var(--border-color)}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-color-dark);margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;font-weight:300;line-height:1;color:var(--text-color-light);cursor:pointer;padding:0}.modal-body[_ngcontent-%COMP%]{padding:var(--modal-padding);overflow-y:auto;display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:var(--text-color-dark)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:var(--input-padding);border:1px solid var(--border-color);border-radius:var(--border-radius);background-color:var(--background-color);color:var(--text-color-dark);font-size:1rem;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(var(--primary-color-rgb),.2)}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-grid-col3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:var(--modal-padding);border-top:1px solid var(--border-color);gap:.5rem}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%], .form-grid-col3[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{align-items:flex-end;padding:0}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:100%;height:90vh;border-radius:var(--border-radius) var(--border-radius) 0 0}}\"]\n      });\n    }\n  }\n  return PropertyFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}