{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/property.service\";\nexport let PropertyFormComponent = /*#__PURE__*/(() => {\n  class PropertyFormComponent {\n    constructor(fb, propertyService) {\n      this.fb = fb;\n      this.propertyService = propertyService;\n      this.property = null;\n      this.closeDialog = new EventEmitter();\n      this.isEditing = false;\n      this.propertyForm = this.fb.group({\n        name: ['', Validators.required],\n        type: ['Apartment', Validators.required],\n        location: ['', Validators.required],\n        price: [0, [Validators.required, Validators.min(1)]],\n        bedrooms: [1, [Validators.required, Validators.min(0)]],\n        bathrooms: [1, [Validators.required, Validators.min(0)]],\n        area: [0, [Validators.required, Validators.min(1)]],\n        description: ['']\n      });\n    }\n    ngOnInit() {\n      if (this.property) {\n        this.isEditing = true;\n        this.propertyForm.patchValue(this.property);\n      }\n    }\n    onSubmit() {\n      if (this.propertyForm.invalid) {\n        // In a real app, you'd show a toast notification for validation errors.\n        console.error('Form is invalid');\n        return;\n      }\n      if (this.isEditing && this.property) {\n        const updatedProperty = {\n          ...this.property,\n          ...this.propertyForm.value\n        };\n        this.propertyService.updateProperty(updatedProperty);\n      } else {\n        this.propertyService.addProperty(this.propertyForm.value);\n      }\n      this.closeDialog.emit(true);\n    }\n    close() {\n      this.closeDialog.emit(false);\n    }\n    static {\n      this.ɵfac = function PropertyFormComponent_Factory(t) {\n        return new (t || PropertyFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PropertyService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PropertyFormComponent,\n        selectors: [[\"app-property-form\"]],\n        inputs: {\n          property: \"property\"\n        },\n        outputs: {\n          closeDialog: \"closeDialog\"\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 58,\n        vars: 4,\n        consts: [[1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-50\", \"z-40\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"flex\", \"items-center\", \"justify-center\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-xl\", \"p-6\", \"w-full\", \"max-w-lg\", \"mx-auto\", \"max-h-[90vh]\", \"overflow-y-auto\"], [1, \"flex\", \"justify-between\", \"items-center\", \"border-b\", \"pb-3\"], [1, \"text-lg\", \"font-semibold\"], [1, \"text-gray-400\", \"hover:text-gray-600\", 3, \"click\"], [1, \"py-4\", \"space-y-4\", 3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"for\", \"name\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"name\", \"formControlName\", \"name\", \"type\", \"text\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"type\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"type\", \"formControlName\", \"type\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"location\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"location\", \"formControlName\", \"location\", \"type\", \"text\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\"], [\"for\", \"price\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"price\", \"formControlName\", \"price\", \"type\", \"number\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"bedrooms\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"bedrooms\", \"formControlName\", \"bedrooms\", \"type\", \"number\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"bathrooms\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"bathrooms\", \"formControlName\", \"bathrooms\", \"type\", \"number\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"area\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"area\", \"formControlName\", \"area\", \"type\", \"number\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [\"for\", \"description\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"3\", 1, \"mt-1\", \"block\", \"w-full\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\"], [1, \"flex\", \"justify-end\", \"space-x-3\", \"pt-4\", \"border-t\"], [\"type\", \"button\", 1, \"bg-gray-200\", \"hover:bg-gray-300\", \"text-gray-800\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\", 3, \"click\"], [\"type\", \"submit\", 1, \"bg-blue-600\", \"hover:bg-blue-700\", \"text-white\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\", \"disabled:bg-gray-400\", 3, \"disabled\"]],\n        template: function PropertyFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_div_click_0_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_button_click_6_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtext(7, \"\\u00D7\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"form\", 6);\n            i0.ɵɵlistener(\"ngSubmit\", function PropertyFormComponent_Template_form_ngSubmit_8_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\")(11, \"label\", 8);\n            i0.ɵɵtext(12, \"Property Name *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(13, \"input\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"div\")(15, \"label\", 10);\n            i0.ɵɵtext(16, \"Property Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"select\", 11)(18, \"option\");\n            i0.ɵɵtext(19, \"Apartment\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"option\");\n            i0.ɵɵtext(21, \"House\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"option\");\n            i0.ɵɵtext(23, \"Condo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"option\");\n            i0.ɵɵtext(25, \"Townhouse\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"option\");\n            i0.ɵɵtext(27, \"Commercial\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(28, \"div\")(29, \"label\", 12);\n            i0.ɵɵtext(30, \"Location *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(31, \"input\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"div\", 14)(33, \"div\")(34, \"label\", 15);\n            i0.ɵɵtext(35, \"Price *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(36, \"input\", 16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"div\")(38, \"label\", 17);\n            i0.ɵɵtext(39, \"Bedrooms\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(40, \"input\", 18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\")(42, \"label\", 19);\n            i0.ɵɵtext(43, \"Bathrooms\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(44, \"input\", 20);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\")(46, \"label\", 21);\n            i0.ɵɵtext(47, \"Area (sqft) *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(48, \"input\", 22);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\")(50, \"label\", 23);\n            i0.ɵɵtext(51, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(52, \"textarea\", 24);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"div\", 25)(54, \"button\", 26);\n            i0.ɵɵlistener(\"click\", function PropertyFormComponent_Template_button_click_54_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtext(55, \"Cancel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"button\", 27);\n            i0.ɵɵtext(57);\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.isEditing ? \"Edit Property\" : \"Add New Property\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.propertyForm);\n            i0.ɵɵadvance(48);\n            i0.ɵɵproperty(\"disabled\", ctx.propertyForm.invalid);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate(ctx.isEditing ? \"Update Property\" : \"Create Property\");\n          }\n        },\n        dependencies: [CommonModule, FormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, ReactiveFormsModule, i1.FormGroupDirective, i1.FormControlName]\n      });\n    }\n  }\n  return PropertyFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}